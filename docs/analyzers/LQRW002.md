# LQRW002 - AutoGeneratedDtoUsageAnalyzer

**Severity:** Warning  
**Category:** Usage  
**Default:** Enabled

## Description
Reports explicit usage of auto-generated DTO types marked with `LinqraftAutoGeneratedDtoAttribute`. These types are created by the Linqraft source generator and may change when DTOs are regenerated.

## When It Triggers
When code explicitly references a type marked with `LinqraftAutoGeneratedDtoAttribute` in:
- Object instantiation: `new GeneratedDto(...)`
- Method parameters: `void Foo(GeneratedDto dto)`
- Explicit variable declarations: `GeneratedDto dto = ...`
- Property declarations: `public GeneratedDto MyDto { get; set; }`
- Field declarations: `private GeneratedDto _myDto;`

## When It Does NOT Trigger
- Variable declarations using `var`: `var dto = ...`
- Lambda parameters with inferred types

## Why This Is A Problem
Auto-generated nested DTOs are implementation details that may change:
- When the source code structure changes
- When DTO properties are modified
- When regenerating the code with different options

Explicitly depending on these types can lead to compilation errors when the DTOs are regenerated.

## How To Fix
1. **Use `var` for local variables** instead of explicitly typing them
2. **Use explicit DTO types** via `SelectExpr<TResult>()` overload
3. **Define your own DTO types** manually

## Example
Before:
```csharp
class Test
{
    // LQRW002: Field declaration with auto-generated type
    private ItemsDto_12345678 _myDto;

    void Method()
    {
        // LQRW002: Explicit variable declaration
        ItemsDto_12345678 dto = query.First();
        
        // LQRW002: Object instantiation
        var instance = new ItemsDto_12345678();
    }
    
    // LQRW002: Parameter declaration
    void Process(ItemsDto_12345678 dto) { }
}
```

After:
```csharp
// Option 1: Use var
class Test
{
    void Method()
    {
        var dto = query.First();  // OK - uses var
    }
}

// Option 2: Use explicit DTO with SelectExpr<TResult>
public partial class MyDto { }

class Test
{
    void Method()
    {
        var result = query.SelectExpr<MyDto>(x => new { x.Id });
        MyDto dto = result.First();  // OK - uses explicit DTO
    }
}
```
